{
  "name": "Virtualmicroscope",
  "tagline": "NYU School of Medicine Virtual Microscope Application",
  "body": "We built the NYU VM using freely available software and services.  You can use the same approach to build your own VM system.\r\n\r\n**What you will need:**\r\n\r\n* Digital Slides in the Aperio SVS format\r\n* A computer to convert the SVS files into Google Maps-compatible image tiles.  This should be a fast computer running 64 bit linux and ideally SSD drives.  This machine should not be the same as your VM application server as the slide processing is very resource intensive while running\r\n* Server(s) for your application and your tiled slide images:\r\n * Your application can be in any framework your local development teams work in.  The Google Maps API is Javascript based and can be easily integrated into any web framework.\r\n * The conversion process converts each SVS file into anywhere from 10,000 to 100,000 individual JPEG tiles, so you may consider separating your application/db and your static image file servers.\r\n\r\n____\r\n## Converting Aperio slides for use with Google Maps:\r\n\r\n**What you need to convert: ** \r\n\r\nTo run the conversion command below, you will need to intall the libvips library (http://www.vips.ecs.soton.ac.uk/index.php?title=VIPS).  Newer versions of VIPS make the process of converting digital slides into the Google Maps format much easier and much, much faster. John Cupitt has written an excellent summary guide here: Making DeepZoom, Zoomify and Google Maps image pyramids with vips.\r\n\r\nOn Ubuntu or Mint, you can install with:\r\n`sudo apt-get install libvips`\r\n`sudo apt-get install libvips-tools  `\r\n\r\n\r\nOnce you have VIPS and all its dependencies installed, you can now convert a scanned slide by simply executing the command:\r\n`vips dzsave name_of_slide_file.svs name_of_output_directory.zip  --background 0 --centre --layout google`\r\n\r\nThis single line converts the slide, adds a black background, creates a Google Map tile set, and compresses it all into a zip file.  This zip file can then be uploaded to your public-facing web file server, expanded, and then used in your custom Google Maps code.   \r\n\r\nWithin Google maps you need a custom Javascript function to tell the Maps API how to load your slide images (more about that here https://developers.google.com/maps/documentation/javascript/maptypes ).\r\n\r\nOnce you have the unzipped slide tiles on your server, then to use the new slide tiles in Google Maps, just update your tile url javascript function to (full example below):\r\n\r\n`function customGetTileURL(a,b) {`\r\n         `return \"{{path to the slide directory}}/\" + b + \"/\" + a.y + \"/\" + a.x + \".jpg\"`\r\n`}`\r\n\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}